<html>
<head>
<title>MimezisGenerator</title>
<script src='perlin.js'></script>
<link rel="stylesheet" href="style.css">
</head>
<body>
    <img src="mimezisinverted.png">
    <canvas id='zis'></canvas>
    <script>
    'use strict';
    let cnvs = document.getElementById('zis');
    cnvs.width = cnvs.height = 248;
    let ctx = cnvs.getContext('2d');
    
    const GRID_SIZE = 5;
    const RESOLUTION = 4;
    const COLOR_SCALE =  between(40, 100);
    const COLOR = between(20, 30);
    const BRIGHTN = between(40, 110) ;

   
    
    let pixel_size = cnvs.width / RESOLUTION;
    let num_pixels = GRID_SIZE / RESOLUTION;
    
    for (let y = 0; y < GRID_SIZE; y += num_pixels / GRID_SIZE){
        for (let x = 0; x < GRID_SIZE; x += num_pixels / GRID_SIZE){
            let v = parseInt(perlin.get(x, y) * COLOR_SCALE + 50);
            let W = parseInt(perlin.get(x, y) * COLOR_SCALE + BRIGHTN);
            ctx.fillStyle = 'hsl('+COLOR+','+v+'%,'+W+'%)';
            ctx.fillRect(
                x / GRID_SIZE * cnvs.width,
                y / GRID_SIZE * cnvs.width,
                pixel_size,
                pixel_size
            );
        }
    }


    function between(min, max) {  
  return Math.floor(
    Math.random() * (max - min) + min
  )
}
    </script><br>
<button onClick="window.location.reload();">Spawn another Mimezis</button>


</body>
</html>